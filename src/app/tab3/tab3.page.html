<ion-header>
  <ion-title>SABUK</ion-title>
  <ion-img
    class="logo"
    src="../../assets/DISHUB/Desain_tanpa_judul__1_-removebg-preview.svg"
  ></ion-img>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="container">
    <ion-button class="add-button" shape="round" (click)="isOpen = true">
      Laporan
    </ion-button>
  </div>
  <div class="container">
    <input
      type="file"
      (change)="onFileChange($event)"
      accept="image/*"
      class="input"
    />
  </div>
  <ion-list>
    <ion-item-sliding *ngFor="let item of notes">
      <ion-item-options side="end">
        <ion-item-option
          style="--background: #6895d2"
          (click)="editNote(item)"
          class="fitur-app"
          >EDIT</ion-item-option
        >
        <ion-item-option
          style="--background: #ff004d"
          (click)="deleteNote(item)"
          class="fitur-app"
          >DELETE</ion-item-option
        >
      </ion-item-options>

      <ion-item>
        <ion-label class="font-title">
          {{item?.laporan}}
          <p class="font-desc">
            <ion-text class="ion-text-wrap"> {{item?.description}} </ion-text>
          </p>
        </ion-label>
      </ion-item>
    </ion-item-sliding>
  </ion-list>

  <ion-modal [isOpen]="isOpen" (willDismiss)="onWillDismiss($event)">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-buttons slot="start">
            <ion-button (click)="cancel()">
              <ion-icon name="arrow-back-outline"></ion-icon>
            </ion-button>
          </ion-buttons>
          <ion-title>Laporan</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="save(f)">
              <ion-icon slot="start" name="checkmark-outline"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
        <form #f="ngForm">
          <ion-item>
            <ion-input
              label="Laporan"
              labelPlacement="stacked"
              type="text"
              name="laporan"
              placeholder="Lapor"
              [(ngModel)]="model.laporan"
            ></ion-input>
          </ion-item>

          <ion-item class="ion-margin-vertical">
            <ion-textarea
              label="Keterangan Laporan"
              labelPlacement="stacked"
              type="text"
              name="description"
              placeholder="Lapor"
              [(ngModel)]="model.description"
            ></ion-textarea>
          </ion-item>

          <ion-item class="ion-margin-vertical">
            <ion-textarea
              label="Keterangan Tempat"
              labelPlacement="stacked"
              type="text"
              name="tempat"
              placeholder="Lapor"
              [(ngModel)]="model.tempat"
            ></ion-textarea>
          </ion-item>
        </form>
      </ion-content>
    </ng-template>
  </ion-modal>
</ion-content>
